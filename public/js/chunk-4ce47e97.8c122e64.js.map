{"version":3,"sources":["webpack:///./src/views/Feedback.vue?e3db","webpack:///src/views/Feedback.vue","webpack:///./src/views/Feedback.vue?16ba","webpack:///./src/views/Feedback.vue","webpack:///./src/views/Feedback.vue?e0a8","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","$event","$router","back","scopedSlots","_u","key","fn","isDisabled","handleSubmit","_v","proxy","_l","item","index","handleSelect","_s","title","directives","name","rawName","value","currentSelect","expression","domProps","target","composing","message","textCount","imgCount","maxCount","model","callback","$$v","fileList","staticRenderFns","component","$","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-4ce47e97.8c122e64.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"settings\"},[_c('van-nav-bar',{staticStyle:{\"background-color\":\"#fff\"},attrs:{\"title\":\"意见反馈\",\"fixed\":true,\"border\":false,\"left-arrow\":\"\"},on:{\"click-left\":function($event){return _vm.$router.back()}},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"mini\",\"color\":\"#ef6852\",\"disabled\":_vm.isDisabled},on:{\"click\":_vm.handleSubmit}},[_vm._v(\"提交\")])]},proxy:true}])}),_c('div',{staticClass:\"content\"},[_c('div',{staticClass:\"tip\"},[_vm._v(\"欢迎提出你的意见建议,或英语相关的问题!我们一起打造阳光英语呀!\")]),_c('div',{staticClass:\"type\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"反馈类型:\")]),_c('div',{staticClass:\"list\"},_vm._l((_vm.questionList),function(item,index){return _c('div',{key:index,staticClass:\"item\",on:{\"click\":function($event){return _vm.handleSelect(index)}}},[_c('span',[_vm._v(_vm._s(item.title))]),_c('van-icon',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.currentSelect===index),expression:\"currentSelect===index\"}],attrs:{\"name\":\"checked\",\"size\":\"18px\",\"color\":\"#f35b5b\"}})],1)}),0)]),_c('div',{staticClass:\"supplement\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"补充说明:\")]),_c('div',{staticClass:\"text_box\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],attrs:{\"placeholder\":\"请详细描述您遇到的问题,这是对我们产品宝贵的意见或建议\"},domProps:{\"value\":(_vm.message)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.message=$event.target.value}}}),_c('div',{staticClass:\"num\"},[_vm._v(_vm._s(_vm.textCount)+\" / 500\")])]),_c('div',{staticClass:\"title flex_bea\"},[_c('span',[_vm._v(\"添加截图 (方便我们更好的处理你的意见) :\")]),_c('span',{staticClass:\"num2\"},[_vm._v(_vm._s(_vm.imgCount)+\" / 4\")])]),_c('div',{staticClass:\"img_box\"},[_c('van-uploader',{attrs:{\"multiple\":\"\",\"max-count\":_vm.maxCount,\"upload-icon\":\"plus\"},model:{value:(_vm.fileList),callback:function ($$v) {_vm.fileList=$$v},expression:\"fileList\"}})],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"settings\">\r\n    <!-- 头部导航 -->\r\n    <van-nav-bar title=\"意见反馈\" :fixed=\"true\" :border=\"false\" style=\"background-color:#fff;\" left-arrow\r\n      @click-left=\"$router.back()\">\r\n      <template #right>\r\n        <van-button size=\"mini\" color=\"#ef6852\" :disabled=\"isDisabled\" @click=\"handleSubmit\">提交</van-button>\r\n      </template>\r\n    </van-nav-bar>\r\n\r\n    <!-- 内容 -->\r\n    <div class=\"content\">\r\n      <div class=\"tip\">欢迎提出你的意见建议,或英语相关的问题!我们一起打造阳光英语呀!</div>\r\n      <div class=\"type\">\r\n        <div class=\"title\">反馈类型:</div>\r\n        <div class=\"list\">\r\n          <div class=\"item\" v-for=\"(item,index) in questionList\" :key=\"index\" @click=\"handleSelect(index)\">\r\n            <span>{{item.title}}</span>\r\n            <van-icon v-show=\"currentSelect===index\" name=\"checked\" size=\"18px\" color=\"#f35b5b\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"supplement\">\r\n        <div class=\"title\">补充说明:</div>\r\n        <div class=\"text_box\">\r\n          <textarea v-model=\"message\" placeholder=\"请详细描述您遇到的问题,这是对我们产品宝贵的意见或建议\"></textarea>\r\n          <div class=\"num\">{{textCount}}&nbsp;/&nbsp;500</div>\r\n        </div>\r\n\r\n        <div class=\"title flex_bea\">\r\n          <span>添加截图&nbsp;(方便我们更好的处理你的意见)&nbsp;:</span>\r\n          <span class=\"num2\">{{imgCount}}&nbsp;/&nbsp;4</span>\r\n        </div>\r\n        <div class=\"img_box\">\r\n          <van-uploader v-model=\"fileList\" multiple :max-count=\"maxCount\" upload-icon=\"plus\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        message: '',\r\n        maxCount: 4,\r\n        fileList: [],\r\n        currentSelect: 8,\r\n        questionList: [{\r\n            id: 1,\r\n            title: '改进建议'\r\n          },\r\n          {\r\n            id: 2,\r\n            title: '功能异常'\r\n          },\r\n          {\r\n            id: 3,\r\n            title: '内容相关'\r\n          },\r\n          {\r\n            id: 4,\r\n            title: '界面异常'\r\n          },\r\n          {\r\n            id: 5,\r\n            title: '其他问题'\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    computed: {\r\n      textCount() {\r\n        return this.message.length\r\n      },\r\n      imgCount() {\r\n        return this.fileList.length\r\n      },\r\n      isDisabled() {\r\n        return this.message.trim().length === 0\r\n      }\r\n    },\r\n    methods: {\r\n      // 选择问题类型\r\n      handleSelect(index) {\r\n        this.currentSelect = index\r\n      },\r\n      refreshForm() {\r\n        this.fileList = []\r\n        this.message = ''\r\n        this.currentSelect = 8\r\n      },\r\n      // 点击提交\r\n      async handleSubmit() {\r\n        const files = this.fileList.map(item => item.file)\r\n        const userId = this.$store.state.userInfo.id\r\n        const formData = new FormData()\r\n        formData.append('content', this.message)\r\n        files.forEach((item) => {\r\n          formData.append('imgs', item)\r\n        })\r\n        formData.append('user_id', userId)\r\n        formData.append('type', this.questionList[this.currentSelect].title)\r\n        const res = await this.$http.instance.post('/feedback/addFeedback', formData)\r\n        if (res.data.status === 1) {\r\n          this.refreshForm()\r\n          return this.$toast(res.data.msg)\r\n        } else {\r\n          return this.$toast.fail(res.data.msg)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .content {\r\n    padding-top: 60px;\r\n  }\r\n\r\n  .tip {\r\n    padding: @padding12;\r\n    font-size: @textSize14;\r\n    color: @deepColor;\r\n  }\r\n\r\n  .title {\r\n    padding: 12px;\r\n    background-color: @grayBgColor;\r\n    color: @deepColor;\r\n  }\r\n\r\n  .type {\r\n    .list {\r\n      .item {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-content: center;\r\n        padding: 12px;\r\n        background-color: #fff;\r\n        font-size: 14px;\r\n        border-bottom: 1px solid #f5f3f3;\r\n      }\r\n\r\n      .item:last-child {\r\n        border: 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  .supplement {\r\n    .text_box {\r\n      position: relative;\r\n      padding: 0 12px;\r\n      background-color: @grayBgColor;\r\n      height: 260px;\r\n\r\n      textarea {\r\n        width: 100%;\r\n        border: 0;\r\n        resize: none;\r\n        height: 100%;\r\n        border-radius: 10px;\r\n        padding: @padding12;\r\n        color: @grayColor;\r\n        font-size: 14px;\r\n      }\r\n    }\r\n\r\n    .img_box {\r\n      padding: @padding12;\r\n    }\r\n\r\n    .num {\r\n      position: absolute;\r\n      right: 24px;\r\n      bottom: 18px;\r\n      color: @grayColor;\r\n      font-size: 14px;\r\n      font-weight: 700;\r\n    }\r\n\r\n    .num2 {\r\n      color: @grayColor;\r\n      font-size: 14px;\r\n      font-weight: 700;\r\n    }\r\n  }\r\n\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Feedback.vue?vue&type=template&id=05995859&scoped=true&\"\nimport script from \"./Feedback.vue?vue&type=script&lang=js&\"\nexport * from \"./Feedback.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Feedback.vue?vue&type=style&index=0&id=05995859&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05995859\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=style&index=0&id=05995859&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/style-resources-loader/lib/index.js??ref--10-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Feedback.vue?vue&type=style&index=0&id=05995859&lang=less&scoped=true&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}