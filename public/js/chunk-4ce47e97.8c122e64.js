(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ce47e97"],{"6e7a":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"settings"},[s("van-nav-bar",{staticStyle:{"background-color":"#fff"},attrs:{title:"意见反馈",fixed:!0,border:!1,"left-arrow":""},on:{"click-left":function(e){return t.$router.back()}},scopedSlots:t._u([{key:"right",fn:function(){return[s("van-button",{attrs:{size:"mini",color:"#ef6852",disabled:t.isDisabled},on:{click:t.handleSubmit}},[t._v("提交")])]},proxy:!0}])}),s("div",{staticClass:"content"},[s("div",{staticClass:"tip"},[t._v("欢迎提出你的意见建议,或英语相关的问题!我们一起打造阳光英语呀!")]),s("div",{staticClass:"type"},[s("div",{staticClass:"title"},[t._v("反馈类型:")]),s("div",{staticClass:"list"},t._l(t.questionList,(function(e,i){return s("div",{key:i,staticClass:"item",on:{click:function(e){return t.handleSelect(i)}}},[s("span",[t._v(t._s(e.title))]),s("van-icon",{directives:[{name:"show",rawName:"v-show",value:t.currentSelect===i,expression:"currentSelect===index"}],attrs:{name:"checked",size:"18px",color:"#f35b5b"}})],1)})),0)]),s("div",{staticClass:"supplement"},[s("div",{staticClass:"title"},[t._v("补充说明:")]),s("div",{staticClass:"text_box"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],attrs:{placeholder:"请详细描述您遇到的问题,这是对我们产品宝贵的意见或建议"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}}),s("div",{staticClass:"num"},[t._v(t._s(t.textCount)+" / 500")])]),s("div",{staticClass:"title flex_bea"},[s("span",[t._v("添加截图 (方便我们更好的处理你的意见) :")]),s("span",{staticClass:"num2"},[t._v(t._s(t.imgCount)+" / 4")])]),s("div",{staticClass:"img_box"},[s("van-uploader",{attrs:{multiple:"","max-count":t.maxCount,"upload-icon":"plus"},model:{value:t.fileList,callback:function(e){t.fileList=e},expression:"fileList"}})],1)])])],1)},n=[],a=(s("4160"),s("d81d"),s("498a"),s("159b"),s("96cf"),s("1da1")),r={data:function(){return{message:"",maxCount:4,fileList:[],currentSelect:8,questionList:[{id:1,title:"改进建议"},{id:2,title:"功能异常"},{id:3,title:"内容相关"},{id:4,title:"界面异常"},{id:5,title:"其他问题"}]}},computed:{textCount:function(){return this.message.length},imgCount:function(){return this.fileList.length},isDisabled:function(){return 0===this.message.trim().length}},methods:{handleSelect:function(t){this.currentSelect=t},refreshForm:function(){this.fileList=[],this.message="",this.currentSelect=8},handleSubmit:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var s,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=t.fileList.map((function(t){return t.file})),i=t.$store.state.userInfo.id,n=new FormData,n.append("content",t.message),s.forEach((function(t){n.append("imgs",t)})),n.append("user_id",i),n.append("type",t.questionList[t.currentSelect].title),e.next=9,t.$http.instance.post("/feedback/addFeedback",n);case 9:if(a=e.sent,1!==a.data.status){e.next=15;break}return t.refreshForm(),e.abrupt("return",t.$toast(a.data.msg));case 15:return e.abrupt("return",t.$toast.fail(a.data.msg));case 16:case"end":return e.stop()}}),e)})))()}}},c=r,o=(s("9316"),s("2877")),u=Object(o["a"])(c,i,n,!1,null,"05995859",null);e["default"]=u.exports},9316:function(t,e,s){"use strict";var i=s("f367"),n=s.n(i);n.a},d81d:function(t,e,s){"use strict";var i=s("23e7"),n=s("b727").map,a=s("1dde"),r=s("ae40"),c=a("map"),o=r("map");i({target:"Array",proto:!0,forced:!c||!o},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},f367:function(t,e,s){}}]);
//# sourceMappingURL=chunk-4ce47e97.8c122e64.js.map