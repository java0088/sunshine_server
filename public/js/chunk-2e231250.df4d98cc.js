(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e231250"],{"67a8":function(t,e,a){},"8cfa":function(t,e,a){"use strict";var o=a("67a8"),s=a.n(o);s.a},a55b:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("van-nav-bar",{staticStyle:{"background-color":"rgba(0,0,0,0)"},attrs:{fixed:!0,border:!1,"z-index":"100"},on:{"click-left":function(e){return t.$router.push("/")}},scopedSlots:t._u([{key:"left",fn:function(){return[a("span",{staticClass:"iconfont icon-zuo"})]},proxy:!0}])}),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{class:0===t.type?"active":"",on:{click:function(e){return t.changeType(0)}}},[t._v("登录")]),a("span",{class:1===t.type?"active":"",on:{click:function(e){return t.changeType(1)}}},[t._v("注册")])]),a("div",{staticClass:"input_box"},[a("div",{staticClass:"item",class:t.showName?"active":"de"},[a("p",[t._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.mobile,expression:"formData.mobile"}],attrs:{type:"text"},domProps:{value:t.formData.mobile},on:{focus:function(e){return t.handleFocus("showName","mobile")},blur:function(e){return t.handleBlur("showName","mobile")},input:function(e){e.target.composing||t.$set(t.formData,"mobile",e.target.value)}}})]),a("div",{staticClass:"item",class:t.showPwd?"active":"de"},[a("p",[t._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{type:"text"},domProps:{value:t.formData.password},on:{focus:function(e){return t.handleFocus("showPwd","password")},blur:function(e){return t.handleBlur("showPwd","password")},input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}})]),a("div",{staticClass:"item code",class:t.showCode?"active":"de"},[a("p",[t._v("验证码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.code,expression:"formData.code"}],attrs:{type:"text"},domProps:{value:t.formData.code},on:{focus:function(e){return t.handleFocus("showCode","code")},blur:function(e){return t.handleBlur("showCode","code")},input:function(e){e.target.composing||t.$set(t.formData,"code",e.target.value)}}}),a("img",{staticClass:"img",attrs:{src:t.codeUrl,alt:""},on:{click:t.getCode}})]),a("div",{staticClass:"login_btn"},[a("span",{on:{click:t.handleSubmit}},[t._v(t._s(0===t.type?"登录":"注册"))])])])])],1)},s=[],n=(a("498a"),a("96cf"),a("1da1")),r={data:function(){return{type:0,showName:!1,showPwd:!1,showCode:!1,formData:{mobile:"",password:"",code:""},codeUrl:"http://192.168.1.113:3000/user/getCode?time="+Date.now(),loginBg:a("d979")}},activated:function(){this.getCode()},methods:{changeType:function(t){this.refreshForm(),this.type=t},refreshForm:function(){this.formData.mobile="",this.formData.password="",this.formData.code="",this.showName=!1,this.showPwd=!1,this.showCode=!1},handleFocus:function(t,e){0===this.formData[e].trim().length&&(this[t]=!0)},handleBlur:function(t,e){this.formData[e].trim().length>0?this[t]=!0:this[t]=!1},getCode:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.codeUrl="http://192.168.1.113:3000/user/getCode?time="+Date.now();case 1:case"end":return e.stop()}}),e)})))()},handleSubmit:function(){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.type){e.next=6;break}return e.next=3,t.$http.post("/user/login",t.formData);case 3:a=e.sent,e.next=9;break;case 6:return e.next=8,t.$http.post("/user/register",t.formData);case 8:a=e.sent;case 9:0===a.status?t.$message({type:"warning",message:a.msg,duration:1e3}):(t.$message({type:"success",message:a.msg,duration:1e3}),0===t.type?(localStorage.setItem("mobile",a.data.mobile),t.$store.dispatch("getUserInfo"),t.$router.back()):t.type=0,t.refreshForm());case 10:case"end":return e.stop()}}),e)})))()}}},i=r,c=(a("8cfa"),a("2877")),u=Object(c["a"])(i,o,s,!1,null,"2df25a82",null);e["default"]=u.exports},d979:function(t,e,a){t.exports=a.p+"img/login_bg2.cfd400d0.jpg"}}]);
//# sourceMappingURL=chunk-2e231250.df4d98cc.js.map