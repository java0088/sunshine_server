(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-873f4dc2"],{"02aa":function(e,t,a){"use strict";var o=a("4809"),s=a.n(o);s.a},4809:function(e,t,a){},a55b:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("van-nav-bar",{staticStyle:{"background-color":"rgba(0,0,0,0)"},attrs:{fixed:!0,border:!1,"z-index":"100"},on:{"click-left":function(t){return e.$router.push("/")}},scopedSlots:e._u([{key:"left",fn:function(){return[a("span",{staticClass:"iconfont icon-zuo"})]},proxy:!0}])}),a("div",{staticClass:"box"},[a("div",{staticClass:"title"},[a("span",{class:0===e.type?"active":"",on:{click:function(t){return e.changeType(0)}}},[e._v("登录")]),a("span",{class:1===e.type?"active":"",on:{click:function(t){return e.changeType(1)}}},[e._v("注册")])]),a("div",{staticClass:"input_box"},[a("div",{staticClass:"item",class:e.showName?"active":"de"},[a("p",[e._v("手机号")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.mobile,expression:"formData.mobile"}],attrs:{type:"text"},domProps:{value:e.formData.mobile},on:{focus:function(t){return e.handleFocus("showName","mobile")},blur:function(t){return e.handleBlur("showName","mobile")},input:function(t){t.target.composing||e.$set(e.formData,"mobile",t.target.value)}}})]),a("div",{staticClass:"item",class:e.showPwd?"active":"de"},[a("p",[e._v("密码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"text"},domProps:{value:e.formData.password},on:{focus:function(t){return e.handleFocus("showPwd","password")},blur:function(t){return e.handleBlur("showPwd","password")},input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),a("div",{staticClass:"item code",class:e.showCode?"active":"de"},[a("p",[e._v("验证码")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.code,expression:"formData.code"}],attrs:{type:"text"},domProps:{value:e.formData.code},on:{focus:function(t){return e.handleFocus("showCode","code")},blur:function(t){return e.handleBlur("showCode","code")},input:function(t){t.target.composing||e.$set(e.formData,"code",t.target.value)}}}),a("img",{staticClass:"img",attrs:{src:e.codeUrl,alt:""},on:{click:e.getCode}})]),a("div",{staticClass:"login_btn"},[a("span",{on:{click:e.handleSubmit}},[e._v(e._s(0===e.type?"登录":"注册"))])])])])],1)},s=[],n=(a("498a"),a("96cf"),a("1da1")),r=a("f121"),i={data:function(){return{type:0,showName:!1,showPwd:!1,showCode:!1,formData:{mobile:"",password:"",code:""},codeUrl:r["a"]+"user/getCode?time="+Date.now(),loginBg:a("d979")}},activated:function(){this.getCode()},methods:{changeType:function(e){this.refreshForm(),this.type=e},refreshForm:function(){this.formData.mobile="",this.formData.password="",this.formData.code="",this.showName=!1,this.showPwd=!1,this.showCode=!1},handleFocus:function(e,t){0===this.formData[t].trim().length&&(this[e]=!0)},handleBlur:function(e,t){this.formData[t].trim().length>0?this[e]=!0:this[e]=!1},getCode:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.codeUrl=r["a"]+"user/getCode?time="+Date.now();case 1:case"end":return t.stop()}}),t)})))()},handleSubmit:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0!==e.type){t.next=6;break}return t.next=3,e.$http.post("/user/login",e.formData);case 3:a=t.sent,t.next=9;break;case 6:return t.next=8,e.$http.post("/user/register",e.formData);case 8:a=t.sent;case 9:0===a.status?e.$message({type:"warning",message:a.msg,duration:1e3}):(e.$message({type:"success",message:a.msg,duration:1e3}),0===e.type?(localStorage.setItem("mobile",a.data.mobile),e.$store.dispatch("getUserInfo"),e.$router.back()):e.type=0,e.refreshForm());case 10:case"end":return t.stop()}}),t)})))()}}},c=i,u=(a("02aa"),a("2877")),d=Object(u["a"])(c,o,s,!1,null,"0f8e31ba",null);t["default"]=d.exports},d979:function(e,t,a){e.exports=a.p+"img/login_bg2.cfd400d0.jpg"}}]);
//# sourceMappingURL=chunk-873f4dc2.d3b960dc.js.map